var Lr=Object.defineProperty;var wn=e=>{throw TypeError(e)};var Mr=(e,t,n)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ke=(e,t,n)=>Mr(e,typeof t!="symbol"?t+"":t,n),jt=(e,t,n)=>t.has(e)||wn("Cannot "+n);var _=(e,t,n)=>(jt(e,t,"read from private field"),n?n.call(e):t.get(e)),D=(e,t,n)=>t.has(e)?wn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),De=(e,t,n,r)=>(jt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),fe=(e,t,n)=>(jt(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Or="5";var On;typeof window<"u"&&((On=window.__svelte??(window.__svelte={})).v??(On.v=new Set)).add(Or);const Cr=1,Pr=2,Cn=4,Rr=8,$r=16,Fr=2,B=Symbol(),Ir="http://www.w3.org/1999/xhtml",Zt=!1;var Pn=Array.isArray,Dr=Array.prototype.indexOf,sn=Array.from,Xt=Object.getOwnPropertyDescriptor,Br=Object.getOwnPropertyDescriptors,Ur=Object.prototype,qr=Array.prototype,Rn=Object.getPrototypeOf;function Yr(e){for(var t=0;t<e.length;t++)e[t]()}function $n(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function Vr(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const I=2,on=4,an=8,zr=1<<24,Se=16,Ae=32,rt=64,ln=128,ve=512,U=1024,X=2048,ge=4096,te=8192,Ce=16384,fn=32768,vt=65536,kn=1<<17,Fn=1<<18,qt=1<<19,Hr=1<<20,Ee=1<<25,ze=32768,Jt=1<<21,un=1<<22,Pe=1<<23,Mt=Symbol("$state"),jr=Symbol(""),Ge=new class extends Error{constructor(){super(...arguments);ke(this,"name","StaleReactionError");ke(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Xr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Kr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Gr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Jr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ei(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function In(e){return e===this.v}function ni(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Dn(e){return!ni(e,this.v)}let ri=!1,pe=null;function Ot(e){pe=e}function ii(e,t=!1,n){pe={p:pe,i:!1,c:null,e:null,s:e,x:null,l:null}}function si(e){var t=pe,n=t.e;if(n!==null){t.e=null;for(var r of n)Gn(r)}return t.i=!0,pe=t.p,{}}function Bn(){return!0}let Ze=[];function oi(){var e=Ze;Ze=[],Yr(e)}function cn(e){if(Ze.length===0){var t=Ze;queueMicrotask(()=>{t===Ze&&oi()})}Ze.push(e)}function ai(e){var t=T;if(t===null)return x.f|=Pe,e;if(t.f&fn)Ct(e,t);else{if(!(t.f&ln))throw e;t.b.error(e)}}function Ct(e,t){for(;t!==null;){if(t.f&ln)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Tt=new Set;let b=null,C=null,_e=[],dn=null,Qt=!1;var Je,Qe,Be,Ue,gt,et,tt,F,en,ut,tn,Un,qn;const Bt=class Bt{constructor(){D(this,F);ke(this,"committed",!1);ke(this,"current",new Map);ke(this,"previous",new Map);D(this,Je,new Set);D(this,Qe,new Set);D(this,Be,0);D(this,Ue,0);D(this,gt,null);D(this,et,new Set);D(this,tt,new Set);ke(this,"skipped_effects",new Set);ke(this,"is_fork",!1)}is_deferred(){return this.is_fork||_(this,Ue)>0}process(t){var r;_e=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of t)fe(this,F,en).call(this,i,n);this.is_fork||fe(this,F,Un).call(this),this.is_deferred()?(fe(this,F,ut).call(this,n.effects),fe(this,F,ut).call(this,n.render_effects)):(b=null,xn(n.render_effects),xn(n.effects),(r=_(this,gt))==null||r.resolve()),C=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),t.f&Pe||(this.current.set(t,t.v),C==null||C.set(t,t.v))}activate(){b=this,this.apply()}deactivate(){b===this&&(b=null,C=null)}flush(){if(this.activate(),_e.length>0){if(li(),b!==null&&b!==this)return}else _(this,Be)===0&&this.process([]);this.deactivate()}discard(){for(const t of _(this,Qe))t(this);_(this,Qe).clear()}increment(t){De(this,Be,_(this,Be)+1),t&&De(this,Ue,_(this,Ue)+1)}decrement(t){De(this,Be,_(this,Be)-1),t&&De(this,Ue,_(this,Ue)-1),this.revive()}revive(){for(const t of _(this,et))_(this,tt).delete(t),q(t,X),He(t);for(const t of _(this,tt))q(t,ge),He(t);this.flush()}oncommit(t){_(this,Je).add(t)}ondiscard(t){_(this,Qe).add(t)}settled(){return(_(this,gt)??De(this,gt,$n())).promise}static ensure(){if(b===null){const t=b=new Bt;Tt.add(b),Bt.enqueue(()=>{b===t&&t.flush()})}return b}static enqueue(t){cn(t)}apply(){}};Je=new WeakMap,Qe=new WeakMap,Be=new WeakMap,Ue=new WeakMap,gt=new WeakMap,et=new WeakMap,tt=new WeakMap,F=new WeakSet,en=function(t,n){var d;t.f^=U;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Ae|rt))!==0,o=s&&(i&U)!==0,f=o||(i&te)!==0||this.skipped_effects.has(r);if(r.f&ln&&((d=r.b)!=null&&d.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!f&&r.fn!==null){s?r.f^=U:i&on?n.effects.push(r):xt(r)&&(r.f&Se&&_(this,et).add(r),yt(r));var a=r.first;if(a!==null){r=a;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(fe(this,F,ut).call(this,n.effects),fe(this,F,ut).call(this,n.render_effects),n=n.parent),r=u.next,u=u.parent}},ut=function(t){for(const n of t)n.f&X?_(this,et).add(n):n.f&ge&&_(this,tt).add(n),fe(this,F,tn).call(this,n.deps),q(n,U)},tn=function(t){if(t!==null)for(const n of t)!(n.f&I)||!(n.f&ze)||(n.f^=ze,fe(this,F,tn).call(this,n.deps))},Un=function(){if(_(this,Ue)===0){for(const t of _(this,Je))t();_(this,Je).clear()}_(this,Be)===0&&fe(this,F,qn).call(this)},qn=function(){var s;if(Tt.size>1){this.previous.clear();var t=C,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of Tt){if(o===this){n=!1;continue}const f=[];for(const[u,d]of this.current){if(o.current.has(u))if(n&&d!==o.current.get(u))o.current.set(u,d);else continue;f.push(u)}if(f.length===0)continue;const a=[...o.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var i=_e;_e=[];const u=new Set,d=new Map;for(const y of f)Yn(y,a,u,d);if(_e.length>0){b=o,o.apply();for(const y of _e)fe(s=o,F,en).call(s,y,r);o.deactivate()}_e=i}}b=null,C=t}this.committed=!0,Tt.delete(this)};let Pt=Bt;function li(){var e=Ye;Qt=!0;var t=null;try{var n=0;for(It(!0);_e.length>0;){var r=Pt.ensure();if(n++>1e3){var i,s;fi()}r.process(_e),Re.clear()}}finally{Qt=!1,It(e),dn=null}}function fi(){try{Jr()}catch(e){Ct(e,dn)}}let ce=null;function xn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Ce|te))&&xt(r)&&(ce=new Set,yt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?er(r):r.fn=null),(ce==null?void 0:ce.size)>0)){Re.clear();for(const i of ce){if(i.f&(Ce|te))continue;const s=[i];let o=i.parent;for(;o!==null;)ce.has(o)&&(ce.delete(o),s.push(o)),o=o.parent;for(let f=s.length-1;f>=0;f--){const a=s[f];a.f&(Ce|te)||yt(a)}}ce.clear()}}ce=null}}function Yn(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;s&I?Yn(i,t,n,r):s&(un|Se)&&!(s&X)&&Vn(i,t,r)&&(q(i,X),He(i))}}function Vn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if(i.f&I&&Vn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function He(e){for(var t=dn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Qt&&t===T&&n&Se&&!(n&Fn))return;if(n&(rt|Ae)){if(!(n&U))return;t.f^=U}}_e.push(t)}function ui(e,t,n,r){const i=vn;if(n.length===0&&e.length===0){r(t.map(i));return}var s=b,o=T,f=ci();function a(){Promise.all(n.map(u=>di(u))).then(u=>{f();try{r([...t.map(i),...u])}catch(d){o.f&Ce||Ct(d,o)}s==null||s.deactivate(),Rt()}).catch(u=>{Ct(u,o)})}e.length>0?Promise.all(e).then(()=>{f();try{return a()}finally{s==null||s.deactivate(),Rt()}}):a()}function ci(){var e=T,t=x,n=pe,r=b;return function(s=!0){nt(e),$e(t),Ot(n),s&&(r==null||r.activate())}}function Rt(){nt(null),$e(null),Ot(null)}function vn(e){var t=I|X,n=x!==null&&x.f&I?x:null;return T!==null&&(T.f|=qt),{ctx:pe,deps:null,effects:null,equals:In,f:t,fn:e,reactions:null,rv:0,v:B,wv:0,parent:n??T,ac:null}}function di(e,t){let n=T;n===null&&Kr();var r=n.b,i=void 0,s=pt(B),o=!x,f=new Map;return Ai(()=>{var g;var a=$n();i=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{u===b&&u.committed&&u.deactivate(),Rt()})}catch(m){a.reject(m),Rt()}var u=b;if(o){var d=!r.is_pending();r.update_pending_count(1),u.increment(d),(g=f.get(u))==null||g.reject(Ge),f.delete(u),f.set(u,a)}const y=(m,N=void 0)=>{if(u.activate(),N)N!==Ge&&(s.f|=Pe,ht(s,N));else{s.f&Pe&&(s.f^=Pe),ht(s,m);for(const[O,h]of f){if(f.delete(O),O===u)break;h.reject(Ge)}}o&&(r.update_pending_count(-1),u.decrement(d))};a.promise.then(y,m=>y(null,m||"unknown"))}),Ei(()=>{for(const a of f.values())a.reject(Ge)}),new Promise(a=>{function u(d){function y(){d===i?a(s):u(i)}d.then(y,y)}u(i)})}function ft(e){const t=vn(e);return rr(t),t}function vi(e){const t=vn(e);return t.equals=Dn,t}function zn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)be(t[n])}}function pi(e){for(var t=e.parent;t!==null;){if(!(t.f&I))return t.f&Ce?null:t;t=t.parent}return null}function pn(e){var t,n=T;nt(pi(e));try{e.f&=~ze,zn(e),t=ar(e)}finally{nt(n)}return t}function Hn(e){var t=pn(e);if(e.equals(t)||(b!=null&&b.is_fork||(e.v=t),e.wv=sr()),!it)if(C!==null)(Ft()||b!=null&&b.is_fork)&&C.set(e,t);else{var n=e.f&ve?U:ge;q(e,n)}}let nn=new Set;const Re=new Map;let jn=!1;function pt(e,t){var n={f:0,v:e,reactions:null,equals:In,rv:0,wv:0};return n}function j(e,t){const n=pt(e);return rr(n),n}function hi(e,t=!1,n=!0){const r=pt(e);return t||(r.equals=Dn),r}function $(e,t,n=!1){x!==null&&(!ye||x.f&kn)&&Bn()&&x.f&(I|Se|un|kn)&&!(z!=null&&z.includes(e))&&ti();let r=n?Oe(t):t;return ht(e,r)}function ht(e,t){if(!e.equals(t)){var n=e.v;it?Re.set(e,t):Re.set(e,n),e.v=t;var r=Pt.ensure();r.capture(e,n),e.f&I&&(e.f&X&&pn(e),q(e,e.f&ve?U:ge)),e.wv=sr(),Xn(e,X),T!==null&&T.f&U&&!(T.f&(Ae|rt))&&(re===null?Oi([e]):re.push(e)),!r.is_fork&&nn.size>0&&!jn&&_i()}return t}function _i(){jn=!1;var e=Ye;It(!0);const t=Array.from(nn);try{for(const n of t)n.f&U&&q(n,ge),xt(n)&&yt(n)}finally{It(e)}nn.clear()}function Kt(e){$(e,e.v+1)}function Xn(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,f=(o&X)===0;if(f&&q(s,t),o&I){var a=s;C==null||C.delete(a),o&ze||(o&ve&&(s.f|=ze),Xn(a,ge))}else f&&(o&Se&&ce!==null&&ce.add(s),He(s))}}function Oe(e){if(typeof e!="object"||e===null||Mt in e)return e;const t=Rn(e);if(t!==Ur&&t!==qr)return e;var n=new Map,r=Pn(e),i=j(0),s=Ve,o=f=>{if(Ve===s)return f();var a=x,u=Ve;$e(null),bn(s);var d=f();return $e(a),bn(u),d};return r&&n.set("length",j(e.length)),new Proxy(e,{defineProperty(f,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Qr();var d=n.get(a);return d===void 0?d=o(()=>{var y=j(u.value);return n.set(a,y),y}):$(d,u.value,!0),!0},deleteProperty(f,a){var u=n.get(a);if(u===void 0){if(a in f){const d=o(()=>j(B));n.set(a,d),Kt(i)}}else $(u,B),Kt(i);return!0},get(f,a,u){var m;if(a===Mt)return e;var d=n.get(a),y=a in f;if(d===void 0&&(!y||(m=Xt(f,a))!=null&&m.writable)&&(d=o(()=>{var N=Oe(y?f[a]:B),O=j(N);return O}),n.set(a,d)),d!==void 0){var g=v(d);return g===B?void 0:g}return Reflect.get(f,a,u)},getOwnPropertyDescriptor(f,a){var u=Reflect.getOwnPropertyDescriptor(f,a);if(u&&"value"in u){var d=n.get(a);d&&(u.value=v(d))}else if(u===void 0){var y=n.get(a),g=y==null?void 0:y.v;if(y!==void 0&&g!==B)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(f,a){var g;if(a===Mt)return!0;var u=n.get(a),d=u!==void 0&&u.v!==B||Reflect.has(f,a);if(u!==void 0||T!==null&&(!d||(g=Xt(f,a))!=null&&g.writable)){u===void 0&&(u=o(()=>{var m=d?Oe(f[a]):B,N=j(m);return N}),n.set(a,u));var y=v(u);if(y===B)return!1}return d},set(f,a,u,d){var P;var y=n.get(a),g=a in f;if(r&&a==="length")for(var m=u;m<y.v;m+=1){var N=n.get(m+"");N!==void 0?$(N,B):m in f&&(N=o(()=>j(B)),n.set(m+"",N))}if(y===void 0)(!g||(P=Xt(f,a))!=null&&P.writable)&&(y=o(()=>j(void 0)),$(y,Oe(u)),n.set(a,y));else{g=y.v!==B;var O=o(()=>Oe(u));$(y,O)}var h=Reflect.getOwnPropertyDescriptor(f,a);if(h!=null&&h.set&&h.set.call(d,u),!g){if(r&&typeof a=="string"){var k=n.get("length"),ie=Number(a);Number.isInteger(ie)&&ie>=k.v&&$(k,ie+1)}Kt(i)}return!0},ownKeys(f){v(i);var a=Reflect.ownKeys(f).filter(y=>{var g=n.get(y);return g===void 0||g.v!==B});for(var[u,d]of n)d.v!==B&&!(u in f)&&a.push(u);return a},setPrototypeOf(){ei()}})}var mi,yi,gi;function dt(e=""){return document.createTextNode(e)}function $t(e){return yi.call(e)}function Yt(e){return gi.call(e)}function E(e,t){return $t(e)}function M(e,t=1,n=!1){let r=e;for(;t--;)r=Yt(r);return r}function wi(e){e.textContent=""}function Kn(){return!1}function Wn(e){var t=x,n=T;$e(null),nt(null);try{return e()}finally{$e(t),nt(n)}}function ki(e){T===null&&(x===null&&Zr(),Gr()),it&&Wr()}function xi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Fe(e,t,n){var r=T;r!==null&&r.f&te&&(e|=te);var i={ctx:pe,deps:null,nodes:null,f:e|X|ve,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{yt(i),i.f|=fn}catch(f){throw be(i),f}else t!==null&&He(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&!(s.f&qt)&&(s=s.first,e&Se&&e&vt&&s!==null&&(s.f|=vt)),s!==null&&(s.parent=r,r!==null&&xi(s,r),x!==null&&x.f&I&&!(e&rt))){var o=x;(o.effects??(o.effects=[])).push(s)}return i}function Ft(){return x!==null&&!ye}function Ei(e){const t=Fe(an,null,!1);return q(t,U),t.teardown=e,t}function bi(e){ki();var t=T.f,n=!x&&(t&Ae)!==0&&(t&fn)===0;if(n){var r=pe;(r.e??(r.e=[])).push(e)}else return Gn(e)}function Gn(e){return Fe(on|Hr,e,!1)}function Si(e){return Fe(on,e,!1)}function Ai(e){return Fe(un|qt,e,!0)}function Ni(e,t=0){return Fe(an|t,e,!0)}function xe(e,t=[],n=[],r=[]){ui(r,t,n,i=>{Fe(an,()=>e(...i.map(v)),!0)})}function Zn(e,t=0){var n=Fe(Se|t,e,!0);return n}function _t(e){return Fe(Ae|qt,e,!0)}function Jn(e){var t=e.teardown;if(t!==null){const n=it,r=x;En(!0),$e(null);try{t.call(null)}finally{En(n),$e(r)}}}function Qn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Wn(()=>{i.abort(Ge)});var r=n.next;n.f&rt?n.parent=null:be(n,t),n=r}}function Ti(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Ae||be(t),t=n}}function be(e,t=!0){var n=!1;(t||e.f&Fn)&&e.nodes!==null&&e.nodes.end!==null&&(Li(e.nodes.start,e.nodes.end),n=!0),Qn(e,t&&!n),Dt(e,0),q(e,Ce);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();Jn(e);var i=e.parent;i!==null&&i.first!==null&&er(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Li(e,t){for(;e!==null;){var n=e===t?null:Yt(e);e.remove(),e=n}}function er(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function hn(e,t,n=!0){var r=[];tr(e,r,!0);var i=()=>{n&&be(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||i();for(var f of r)f.out(o)}else i()}function tr(e,t,n){if(!(e.f&te)){e.f^=te;var r=e.nodes&&e.nodes.t;if(r!==null)for(const f of r)(f.is_global||n)&&t.push(f);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&vt)!==0||(i.f&Ae)!==0&&(e.f&Se)!==0;tr(i,t,o?n:!1),i=s}}}function _n(e){nr(e,!0)}function nr(e,t){if(e.f&te){e.f^=te,e.f&U||(q(e,X),He(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&vt)!==0||(n.f&Ae)!==0;nr(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function Mi(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Yt(n);t.append(n),n=i}}let Ye=!1;function It(e){Ye=e}let it=!1;function En(e){it=e}let x=null,ye=!1;function $e(e){x=e}let T=null;function nt(e){T=e}let z=null;function rr(e){x!==null&&(z===null?z=[e]:z.push(e))}let V=null,Q=0,re=null;function Oi(e){re=e}let ir=1,mt=0,Ve=mt;function bn(e){Ve=e}function sr(){return++ir}function xt(e){var t=e.f;if(t&X)return!0;if(t&I&&(e.f&=~ze),t&ge){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(xt(s)&&Hn(s),s.wv>e.wv)return!0}t&ve&&C===null&&q(e,U)}return!1}function or(e,t,n=!0){var r=e.reactions;if(r!==null&&!(z!=null&&z.includes(e)))for(var i=0;i<r.length;i++){var s=r[i];s.f&I?or(s,t,!1):t===s&&(n?q(s,X):s.f&U&&q(s,ge),He(s))}}function ar(e){var N;var t=V,n=Q,r=re,i=x,s=z,o=pe,f=ye,a=Ve,u=e.f;V=null,Q=0,re=null,x=u&(Ae|rt)?null:e,z=null,Ot(e.ctx),ye=!1,Ve=++mt,e.ac!==null&&(Wn(()=>{e.ac.abort(Ge)}),e.ac=null);try{e.f|=Jt;var d=e.fn,y=d(),g=e.deps;if(V!==null){var m;if(Dt(e,Q),g!==null&&Q>0)for(g.length=Q+V.length,m=0;m<V.length;m++)g[Q+m]=V[m];else e.deps=g=V;if(Ft()&&e.f&ve)for(m=Q;m<g.length;m++)((N=g[m]).reactions??(N.reactions=[])).push(e)}else g!==null&&Q<g.length&&(Dt(e,Q),g.length=Q);if(Bn()&&re!==null&&!ye&&g!==null&&!(e.f&(I|ge|X)))for(m=0;m<re.length;m++)or(re[m],e);return i!==null&&i!==e&&(mt++,re!==null&&(r===null?r=re:r.push(...re))),e.f&Pe&&(e.f^=Pe),y}catch(O){return ai(O)}finally{e.f^=Jt,V=t,Q=n,re=r,x=i,z=s,Ot(o),ye=f,Ve=a}}function Ci(e,t){let n=t.reactions;if(n!==null){var r=Dr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&I&&(V===null||!V.includes(t))&&(q(t,ge),t.f&ve&&(t.f^=ve,t.f&=~ze),zn(t),Dt(t,0))}function Dt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ci(e,n[r])}function yt(e){var t=e.f;if(!(t&Ce)){q(e,U);var n=T,r=Ye;T=e,Ye=!0;try{t&(Se|zr)?Ti(e):Qn(e),Jn(e);var i=ar(e);e.teardown=typeof i=="function"?i:null,e.wv=ir;var s;Zt&&ri&&e.f&X&&e.deps}finally{Ye=r,T=n}}}function v(e){var t=e.f,n=(t&I)!==0;if(x!==null&&!ye){var r=T!==null&&(T.f&Ce)!==0;if(!r&&!(z!=null&&z.includes(e))){var i=x.deps;if(x.f&Jt)e.rv<mt&&(e.rv=mt,V===null&&i!==null&&i[Q]===e?Q++:V===null?V=[e]:V.includes(e)||V.push(e));else{(x.deps??(x.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[x]:s.includes(x)||s.push(x)}}}if(it){if(Re.has(e))return Re.get(e);if(n){var o=e,f=o.v;return(!(o.f&U)&&o.reactions!==null||fr(o))&&(f=pn(o)),Re.set(o,f),f}}else n&&(!(C!=null&&C.has(e))||b!=null&&b.is_fork&&!Ft())&&(o=e,xt(o)&&Hn(o),Ye&&Ft()&&!(o.f&ve)&&lr(o));if(C!=null&&C.has(e))return C.get(e);if(e.f&Pe)throw e.v;return e.v}function lr(e){if(e.deps!==null){e.f^=ve;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),t.f&I&&!(t.f&ve)&&lr(t)}}function fr(e){if(e.v===B)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Re.has(t)||t.f&I&&fr(t))return!0;return!1}function ur(e){var t=ye;try{return ye=!0,e()}finally{ye=t}}const Pi=-7169;function q(e,t){e.f=e.f&Pi|t}const Ri=new Set,$i=new Set;function Fi(e){for(var t=0;t<e.length;t++)Ri.add(e[t]);for(var n of $i)n(e)}function cr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function dr(e,t){var n=T;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function Ne(e,t){var n=(t&Fr)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=cr(i?e:"<!>"+e),r=$t(r));var s=n||mi?document.importNode(r,!0):r.cloneNode(!0);return dr(s,s),s}}function Ii(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var o=cr(i),f=$t(o);s=$t(f)}var a=s.cloneNode(!0);return dr(a,a),a}}function vr(e,t){return Ii(e,t,"svg")}function ue(e,t){e!==null&&e.before(t)}function J(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}var de,me,ee,qe,wt,kt,Ut;class Di{constructor(t,n=!0){ke(this,"anchor");D(this,de,new Map);D(this,me,new Map);D(this,ee,new Map);D(this,qe,new Set);D(this,wt,!0);D(this,kt,()=>{var t=b;if(_(this,de).has(t)){var n=_(this,de).get(t),r=_(this,me).get(n);if(r)_n(r),_(this,qe).delete(n);else{var i=_(this,ee).get(n);i&&(_(this,me).set(n,i.effect),_(this,ee).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of _(this,de)){if(_(this,de).delete(s),s===t)break;const f=_(this,ee).get(o);f&&(be(f.effect),_(this,ee).delete(o))}for(const[s,o]of _(this,me)){if(s===n||_(this,qe).has(s))continue;const f=()=>{if(Array.from(_(this,de).values()).includes(s)){var u=document.createDocumentFragment();Mi(o,u),u.append(dt()),_(this,ee).set(s,{effect:o,fragment:u})}else be(o);_(this,qe).delete(s),_(this,me).delete(s)};_(this,wt)||!r?(_(this,qe).add(s),hn(o,f,!1)):f()}}});D(this,Ut,t=>{_(this,de).delete(t);const n=Array.from(_(this,de).values());for(const[r,i]of _(this,ee))n.includes(r)||(be(i.effect),_(this,ee).delete(r))});this.anchor=t,De(this,wt,n)}ensure(t,n){var r=b,i=Kn();if(n&&!_(this,me).has(t)&&!_(this,ee).has(t))if(i){var s=document.createDocumentFragment(),o=dt();s.append(o),_(this,ee).set(t,{effect:_t(()=>n(o)),fragment:s})}else _(this,me).set(t,_t(()=>n(this.anchor)));if(_(this,de).set(r,t),i){for(const[f,a]of _(this,me))f===t?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[f,a]of _(this,ee))f===t?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.oncommit(_(this,kt)),r.ondiscard(_(this,Ut))}else _(this,kt).call(this)}}de=new WeakMap,me=new WeakMap,ee=new WeakMap,qe=new WeakMap,wt=new WeakMap,kt=new WeakMap,Ut=new WeakMap;function Bi(e){pe===null&&Xr(),bi(()=>{const t=ur(e);if(typeof t=="function")return t})}function Wt(e,t,n=!1){var r=new Di(e),i=n?vt:0;function s(o,f){r.ensure(o,f)}Zn(()=>{var o=!1;t((f,a=!0)=>{o=!0,s(a,f)}),o||s(!1,null)},i)}function Sn(e,t){return t}function Ui(e,t,n){for(var r=[],i=t.length,s,o=t.length,f=0;f<i;f++){let y=t[f];hn(y,()=>{if(s){if(s.pending.delete(y),s.done.add(y),s.pending.size===0){var g=e.outrogroups;rn(sn(s.done)),g.delete(s),g.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=r.length===0&&n!==null;if(a){var u=n,d=u.parentNode;wi(d),d.append(u),e.items.clear()}rn(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function rn(e,t=!0){for(var n=0;n<e.length;n++)be(e[n],t)}var An;function We(e,t,n,r,i,s=null){var o=e,f=new Map,a=(t&Cn)!==0;if(a){var u=e;o=u.appendChild(dt())}var d=null,y=vi(()=>{var k=n();return Pn(k)?k:k==null?[]:sn(k)}),g,m=!0;function N(){h.fallback=d,qi(h,g,o,t,r),d!==null&&(g.length===0?d.f&Ee?(d.f^=Ee,ct(d,null,o)):_n(d):hn(d,()=>{d=null}))}var O=Zn(()=>{g=v(y);for(var k=g.length,ie=new Set,P=b,K=Kn(),se=0;se<k;se+=1){var ne=g[se],W=r(ne,se),Y=m?null:f.get(W);Y?(Y.v&&ht(Y.v,ne),Y.i&&ht(Y.i,se),K&&P.skipped_effects.delete(Y.e)):(Y=Yi(f,m?o:An??(An=dt()),ne,W,se,i,t,n),m||(Y.e.f|=Ee),f.set(W,Y)),ie.add(W)}if(k===0&&s&&!d&&(m?d=_t(()=>s(o)):(d=_t(()=>s(An??(An=dt()))),d.f|=Ee)),!m)if(K){for(const[st,je]of f)ie.has(st)||P.skipped_effects.add(je.e);P.oncommit(N),P.ondiscard(()=>{})}else N();v(y)}),h={effect:O,items:f,outrogroups:null,fallback:d};m=!1}function qi(e,t,n,r,i){var je,Et,ot,bt,St,at,At,lt,Nt;var s=(r&Rr)!==0,o=t.length,f=e.items,a=e.effect.first,u,d=null,y,g=[],m=[],N,O,h,k;if(s)for(k=0;k<o;k+=1)N=t[k],O=i(N,k),h=f.get(O).e,h.f&Ee||((Et=(je=h.nodes)==null?void 0:je.a)==null||Et.measure(),(y??(y=new Set)).add(h));for(k=0;k<o;k+=1){if(N=t[k],O=i(N,k),h=f.get(O).e,e.outrogroups!==null)for(const G of e.outrogroups)G.pending.delete(h),G.done.delete(h);if(h.f&Ee)if(h.f^=Ee,h===a)ct(h,null,n);else{var ie=d?d.next:a;h===e.effect.last&&(e.effect.last=h.prev),h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),Me(e,d,h),Me(e,h,ie),ct(h,ie,n),d=h,g=[],m=[],a=d.next;continue}if(h.f&te&&(_n(h),s&&((bt=(ot=h.nodes)==null?void 0:ot.a)==null||bt.unfix(),(y??(y=new Set)).delete(h))),h!==a){if(u!==void 0&&u.has(h)){if(g.length<m.length){var P=m[0],K;d=P.prev;var se=g[0],ne=g[g.length-1];for(K=0;K<g.length;K+=1)ct(g[K],P,n);for(K=0;K<m.length;K+=1)u.delete(m[K]);Me(e,se.prev,ne.next),Me(e,d,se),Me(e,ne,P),a=P,d=ne,k-=1,g=[],m=[]}else u.delete(h),ct(h,a,n),Me(e,h.prev,h.next),Me(e,h,d===null?e.effect.first:d.next),Me(e,d,h),d=h;continue}for(g=[],m=[];a!==null&&a!==h;)(u??(u=new Set)).add(a),m.push(a),a=a.next;if(a===null)continue}h.f&Ee||g.push(h),d=h,a=h.next}if(e.outrogroups!==null){for(const G of e.outrogroups)G.pending.size===0&&(rn(sn(G.done)),(St=e.outrogroups)==null||St.delete(G));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||u!==void 0){var W=[];if(u!==void 0)for(h of u)h.f&te||W.push(h);for(;a!==null;)!(a.f&te)&&a!==e.fallback&&W.push(a),a=a.next;var Y=W.length;if(Y>0){var st=r&Cn&&o===0?n:null;if(s){for(k=0;k<Y;k+=1)(At=(at=W[k].nodes)==null?void 0:at.a)==null||At.measure();for(k=0;k<Y;k+=1)(Nt=(lt=W[k].nodes)==null?void 0:lt.a)==null||Nt.fix()}Ui(e,W,st)}}s&&cn(()=>{var G,Xe;if(y!==void 0)for(h of y)(Xe=(G=h.nodes)==null?void 0:G.a)==null||Xe.apply()})}function Yi(e,t,n,r,i,s,o,f){var a=o&Cr?o&$r?pt(n):hi(n,!1,!1):null,u=o&Pr?pt(i):null;return{v:a,i:u,e:_t(()=>(s(t,a??n,u??i,f),()=>{e.delete(r)}))}}function ct(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&!(t.f&Ee)?t.nodes.start:n;r!==null;){var o=Yt(r);if(s.before(r),r===i)return;r=o}}function Me(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function pr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vi(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pr(e))&&(r&&(r+=" "),r+=t);return r}function zi(e){return typeof e=="object"?Vi(e):e??""}function Hi(e,t,n){var r=e==null?"":""+e;return r===""?null:r}function ji(e,t){return e==null?null:String(e)}function Nn(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var f=Hi(n);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}return s}function Gt(e,t,n,r){var i=e.__style;if(i!==t){var s=ji(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Xi=Symbol("is custom element"),Ki=Symbol("is html");function Tn(e,t){var n=hr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Lt(e,t,n,r){var i=hr(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[jr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function hr(e){return e.__attributes??(e.__attributes={[Xi]:e.nodeName.includes("-"),[Ki]:e.namespaceURI===Ir})}var Ln=new Map;function Wi(e){var t=e.getAttribute("is")||e.nodeName,n=Ln.get(t);if(n)return n;Ln.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=Br(i);for(var o in r)r[o].set&&n.push(o);i=Rn(i)}return n}function Mn(e,t){return e===t||(e==null?void 0:e[Mt])===t}function Gi(e={},t,n,r){return Si(()=>{var i,s;return Ni(()=>{i=s,s=[],ur(()=>{e!==n(...s)&&(t(e,...s),i&&Mn(n(...i),e)&&t(null,...i))})}),()=>{cn(()=>{s&&Mn(n(...s),e)&&t(null,...s)})}}),e}var Zi=vr('<path stroke-width="2.2" fill="none" marker-end="url(#arrow)"></path>'),Ji=vr('<path stroke="#1d1b19" stroke-width="2" fill="none" stroke-dasharray="6 6"></path>'),Qi=Ne('<input type="number"/>'),es=Ne('<input type="text" readonly=""/>'),ts=Ne('<div class="connector out"></div>'),ns=Ne('<div><div class="block-header"><span class="block-type"> </span> <span class="block-label"> </span></div> <div class="block-body"><div><div class="addr"> </div> <div class="value-meta"> </div></div> <div class="value"><!> <div class="value-meta"><span> </span> <span> </span></div></div></div> <div class="connector in"></div> <!></div>'),rs=Ne("<span><i></i> </span>"),is=Ne("<span> </span>"),ss=Ne('<div class="code-line"></div>'),os=Ne('<div class="memory-cell"><div class="cell-header"><span class="memory-chip"> </span> <span> </span></div> <div class="cell-values"><span> </span> <span> </span> <span> </span></div></div>'),as=Ne(`<main><div class="page"><div><section class="section hero"><div class="tagline">Pointers Lab</div> <h1>Drag, link, and decode how C and C++ pointers actually behave.</h1> <p>Each block is a variable with a memory address and a value. Drag blocks around the
          workspace, then drag a link from pointer blocks to whatever they should point at.</p> <div class="callout"><div class="pill">Drag blocks to move them</div> <div class="pill">Drag connectors to link pointers</div> <div class="pill">Edit values to watch memory update</div></div></section> <section class="section playground"><h2>Pointer playground</h2> <p>Pointer blocks output the address of their target. Pointer*2 blocks output the address of a
          pointer. Function pointers can target the function block below. Array and struct blocks are
          extra data shapes for practice.</p> <div class="canvas"><svg class="link-layer" preserveAspectRatio="none"><defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="#1d1b19"></path></marker></defs><!><!></svg> <!></div> <div class="legend"></div> <div class="code-window" aria-label="C code preview"></div></section> <section class="section"><h2>Pointer instincts to build</h2> <div class="note-list"><div class="note">NULL means a pointer holds 0 and points nowhere.</div> <div class="note">Pointer*2 blocks let you chain indirection and visualize levels.</div> <div class="note">Arrays decay to pointers, so linking to an array uses its base address.</div> <div class="note">Function pointers store a code address, not a value on the stack.</div></div></section></div> <aside class="memory-column"><div class="memory-panel"><div class="memory-title">Memory stack view</div> <div class="memory-stack"></div></div></aside></div></main>`);function ls(e,t){ii(t,!0);const n=230,r=96,i={value:{title:"Value",color:"var(--accent)",editable:!0,linkOut:!1},pointer:{title:"Pointer",color:"var(--teal)",editable:!1,linkOut:!0},pointer2:{title:"Pointer*2",color:"var(--cyan)",editable:!1,linkOut:!0},funcptr:{title:"Func Ptr",color:"var(--olive)",editable:!1,linkOut:!0},function:{title:"Function",color:"var(--rose)",editable:!1,linkOut:!1},array:{title:"Array",color:"var(--accent-strong)",editable:!0,linkOut:!1},struct:{title:"Struct",color:"var(--teal)",editable:!0,linkOut:!1}};let s=j(null),o=j(Oe({left:0,top:0,width:0,height:0})),f=Oe([{id:"val_count",type:"value",label:"count",name:"count",addr:4096,value:42,x:32,y:36},{id:"val_flag",type:"value",label:"flag",name:"flag",addr:4100,value:1,x:32,y:160},{id:"ptr_p",type:"pointer",label:"p",name:"p",addr:4104,value:0,x:320,y:36},{id:"ptr_pp",type:"pointer2",label:"pp",name:"pp",addr:4108,value:0,x:320,y:160},{id:"fn_square",type:"function",label:"square",name:"square",addr:8192,value:0,x:32,y:284},{id:"fn_ptr",type:"funcptr",label:"fp",name:"fp",addr:4112,value:0,x:320,y:284},{id:"arr_nums",type:"array",label:"nums[3]",name:"nums",addr:4120,value:5,x:32,y:408},{id:"struct_pair",type:"struct",label:"pair",name:"pair",addr:4132,value:2,x:320,y:408}]),a=j(Oe([{id:"link-p",from:"ptr_p",to:"val_count"},{id:"link-pp",from:"ptr_pp",to:"ptr_p"},{id:"link-fp",from:"fn_ptr",to:"fn_square"}])),u=j(null),d=j(null),y=j(null);const g=(c,l,p)=>Math.min(p,Math.max(l,c)),m=c=>f.find(l=>l.id===c),N=c=>v(a).find(l=>l.from===c),O=c=>`0x${Math.max(0,c).toString(16).toUpperCase()}`,h=c=>`0b${Math.max(0,c>>>0).toString(2).padStart(16,"0")}`,k=c=>{if(i[c.type].editable)return Number.isFinite(c.value)?c.value:0;if(c.type==="function")return c.addr;const l=N(c.id);if(!l)return 0;const p=m(l.to);return p?p.addr:0},ie=(c,l)=>{const p=Number.parseInt(l.currentTarget.value,10);c.value=Number.isNaN(p)?0:p},P=()=>{if(!v(s))return;const c=v(s).getBoundingClientRect();$(o,{left:c.left,top:c.top,width:c.width,height:c.height},!0)},K=(c,l)=>{c.button===0&&(c.target.closest(".connector")||c.target.tagName==="INPUT"||(P(),$(u,{id:l.id,offsetX:c.clientX-v(o).left-l.x,offsetY:c.clientY-v(o).top-l.y},!0)))},se=(c,l)=>{c.stopPropagation(),P(),$(d,{fromId:l.id,x:c.clientX-v(o).left,y:c.clientY-v(o).top},!0)},ne=(c,l)=>({x:c.x+(l==="out"?n:0),y:c.y+r/2}),W=(c,l,p)=>{for(const A of f){if(A.id===p)continue;const L=ne(A,"in"),oe=c-L.x,we=l-L.y;if(Math.hypot(oe,we)<=16)return A.id}return null},Y=()=>{v(d)&&(v(y)&&($(a,v(a).filter(c=>c.from!==v(d).fromId),!0),$(a,[...v(a),{id:`link-${v(d).fromId}-${v(y)}`,from:v(d).fromId,to:v(y)}],!0)),$(d,null),$(y,null))},st=c=>{if(v(u)){const l=m(v(u).id);if(l){const p=Math.max(0,v(o).width-n-8),S=Math.max(0,v(o).height-r-8);l.x=g(c.clientX-v(o).left-v(u).offsetX,8,p),l.y=g(c.clientY-v(o).top-v(u).offsetY,8,S)}}if(v(d)){const l=c.clientX-v(o).left,p=c.clientY-v(o).top;v(d).x=l,v(d).y=p,$(y,W(l,p,v(d).fromId),!0)}},je=()=>{$(u,null),Y()};Bi(()=>{P();const c=A=>st(A),l=()=>je(),p=()=>P();window.addEventListener("pointermove",c),window.addEventListener("pointerup",l),window.addEventListener("resize",p),window.addEventListener("scroll",p,!0);const S=new ResizeObserver(()=>P());return v(s)&&S.observe(v(s)),()=>{window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",l),window.removeEventListener("resize",p),window.removeEventListener("scroll",p,!0),S.disconnect()}});const Et=ft(()=>v(a).map(c=>{const l=m(c.from),p=m(c.to);if(!l||!p)return null;const S=ne(l,"out"),A=ne(p,"in"),L=Math.max(80,Math.abs(A.x-S.x)*.4),oe=S.x+L,we=A.x-L,Te=`M ${S.x} ${S.y} C ${oe} ${S.y}, ${we} ${A.y}, ${A.x} ${A.y}`;return{id:c.id,d:Te,color:i[l.type].color}}).filter(Boolean)),ot=ft(()=>{if(!v(d))return null;const c=m(v(d).fromId);if(!c)return null;const l=ne(c,"out"),p={x:v(d).x,y:v(d).y},S=Math.max(80,Math.abs(p.x-l.x)*.4),A=l.x+S,L=p.x-S;return`M ${l.x} ${l.y} C ${A} ${l.y}, ${L} ${p.y}, ${p.x} ${p.y}`}),bt=ft(()=>[...f].map(c=>({...c,resolvedValue:k(c)})).sort((c,l)=>l.addr-c.addr)),St=ft(()=>{const c=[],l=(w,R)=>({cls:w,text:R}),p=w=>({cls:"",text:w}),S=f.filter(w=>w.type==="value"),A=f.filter(w=>w.type==="array"),L=f.filter(w=>w.type==="struct"),oe=f.filter(w=>w.type==="function"),we=f.filter(w=>w.type==="pointer"),Te=f.filter(w=>w.type==="pointer2"),Ke=f.filter(w=>w.type==="funcptr");for(const w of S)c.push([l("tok-type","int"),p(" "),l("tok-name",w.name),p(" = "),l("tok-num",String(w.value)),p(";")]);for(const w of A){const R=Number.isFinite(w.value)?w.value:0;c.push([l("tok-type","int"),p(" "),l("tok-name",`${w.name}[3]`),p(" = { "),l("tok-num",String(R)),p(", "),l("tok-num",String(R+1)),p(", "),l("tok-num",String(R+2)),p(" };")])}if(L.length>0){c.push([l("tok-kw","struct"),p(" "),l("tok-name","Pair"),p(" { "),l("tok-type","int"),p(" left; "),l("tok-type","int"),p(" right; };")]);for(const w of L){const R=Number.isFinite(w.value)?w.value:0,ae=R+1;c.push([l("tok-kw","struct"),p(" "),l("tok-name","Pair"),p(" "),l("tok-name",w.name),p(" = { "),l("tok-num",String(R)),p(", "),l("tok-num",String(ae)),p(" };")])}}for(const w of oe)c.push([l("tok-type","int"),p(" "),l("tok-fn",w.name),p("(int x) {")]),c.push([p("  "),l("tok-kw","return"),p(" "),l("tok-name","x"),p(" "),l("tok-op","*"),p(" "),l("tok-name","x"),p(";")]),c.push([p("}")]);const Le=(w,R)=>{const ae=N(w.id),Z=ae?m(ae.to):null;let he="NULL";Z&&(Z.type==="array"?he=Z.name:Z.type==="function"?he=`&${Z.name}`:he=`&${Z.name}`),c.push([l("tok-type","int"),p(" "),l("tok-op","*".repeat(R)),l("tok-name",w.name),p(" = "),he==="NULL"?l("tok-kw","NULL"):l("tok-name",he),p(";")])};for(const w of we)Le(w,1);for(const w of Te)Le(w,2);for(const w of Ke){const R=N(w.id),ae=R?m(R.to):null,Z=ae?ae.name:"NULL";c.push([l("tok-type","int"),p(" "),l("tok-op","(*"),l("tok-name",w.name),l("tok-op",")"),p("(int)"),p(" = "),Z==="NULL"?l("tok-kw","NULL"):l("tok-name",Z),p(";")])}return c});var at=as(),At=E(at),lt=E(At),Nt=M(E(lt),2),G=M(E(Nt),4),Xe=E(G),mn=M(E(Xe));We(mn,17,()=>v(Et),c=>c.id,(c,l)=>{var p=Zi();xe(()=>{Lt(p,"d",v(l).d),Lt(p,"stroke",v(l).color)}),ue(c,p)});var _r=M(mn);{var mr=c=>{var l=Ji();xe(()=>Lt(l,"d",v(ot))),ue(c,l)};Wt(_r,c=>{v(ot)&&c(mr)})}var yr=M(Xe,2);We(yr,17,()=>f,c=>c.id,(c,l)=>{var p=ns();p.__pointerdown=H=>K(H,v(l));var S=E(p),A=E(S),L=E(A),oe=M(A,2),we=E(oe),Te=M(S,2),Ke=E(Te),Le=E(Ke),w=E(Le),R=M(Le,2),ae=E(R),Z=M(Ke,2),he=E(Z);{var Vt=H=>{var le=Qi();le.__input=Ie=>ie(v(l),Ie),xe(()=>Tn(le,v(l).value)),ue(H,le)},zt=H=>{var le=es();xe(Ie=>Tn(le,Ie),[()=>k(v(l))]),ue(H,le)};Wt(he,H=>{i[v(l).type].editable?H(Vt):H(zt,!1)})}var Ht=M(he,2),gn=E(Ht),Er=E(gn),br=M(gn,2),Sr=E(br),Ar=M(Te,4);{var Nr=H=>{var le=ts();le.__pointerdown=Ie=>se(Ie,v(l)),ue(H,le)};Wt(Ar,H=>{i[v(l).type].linkOut&&H(Nr)})}xe((H,le,Ie,Tr)=>{Nn(p,1,`block ${v(y)===v(l).id?"is-target":""}`),Gt(p,`transform: translate(${v(l).x}px, ${v(l).y}px); --block-color: ${i[v(l).type].color};`),J(L,i[v(l).type].title),J(we,v(l).label),J(w,H),J(ae,le),J(Er,Ie),J(Sr,Tr)},[()=>O(v(l).addr),()=>h(v(l).addr),()=>O(k(v(l))),()=>h(k(v(l)))]),ue(c,p)}),Gi(G,c=>$(s,c),()=>v(s));var yn=M(G,2);We(yn,21,()=>Object.entries(i),([c,l])=>c,(c,l)=>{var p=ft(()=>Vr(v(l),2));let S=()=>v(p)[1];var A=rs(),L=M(E(A));xe(()=>{Gt(A,`--block-color: ${S().color};`),J(L,` ${S().title??""}`)}),ue(c,A)});var gr=M(yn,2);We(gr,21,()=>v(St),Sn,(c,l)=>{var p=ss();We(p,21,()=>v(l),Sn,(S,A)=>{var L=is(),oe=E(L);xe(()=>{Nn(L,1,zi(v(A).cls)),J(oe,v(A).text)}),ue(S,L)}),ue(c,p)});var wr=M(lt,2),kr=E(wr),xr=M(E(kr),2);We(xr,23,()=>v(bt),c=>c.id,(c,l,p)=>{var S=os(),A=E(S),L=E(A),oe=E(L),we=M(L,2),Te=E(we),Ke=M(A,2),Le=E(Ke),w=E(Le),R=M(Le,2),ae=E(R),Z=M(R,2),he=E(Z);xe((Vt,zt,Ht)=>{Gt(S,`--block-color: ${i[v(l).type].color}; animation-delay: ${v(p)*40}ms;`),J(oe,i[v(l).type].title),J(Te,Vt),J(w,`dec: ${v(l).resolvedValue??""}`),J(ae,`hex: ${zt??""}`),J(he,`bin: ${Ht??""}`)},[()=>O(v(l).addr),()=>O(v(l).resolvedValue),()=>h(v(l).resolvedValue)]),ue(c,S)}),xe(()=>Lt(Xe,"viewBox",`0 0 ${v(o).width} ${v(o).height}`)),ue(e,at),si()}Fi(["pointerdown","input"]);new ls({target:document.getElementById("app")});
